## Introducci칩n
El dia de hoy veremos como crear desde 0 una maquina vulnerable. Esta guia te servira para poder crear tus propias maquinas y poder subirlas a diferentes plataformas como hackthebox, vulnyx, etc.

Antes de empezar a hacer el laboratorio, os recomiendo que tengais claro una idea general de como va a ser la maquina (Tematica, usuarios, intrusi칩n, escalada).

## Instalar ubuntu server
Vamos a comenzar la creaci칩n de nuestra maquina descargando la ISO oficial de ubuntu server. 
-> https://ubuntu.com/download/server

Una vez con la ISO descargada, vamos a crear una maquina virtual, en mi caso en virtualbox.

Ponemos el nombre de la maquina y la imagen ISO de ubuntu server que previamente descargamos, y lo demas lo dejamos todo como esta excepto la casilla que pone "Procceed with Unattended Installation", es importante que la desmarqueis 
![vbox1](../img/5/virtualbox1.png)

Aqu칤 debemos asignarle recursos a la maquina, yo os recomiendo dejarlo tal cual como esta 2048mb y 1 CPU, si vuestra maquina requiere mas potencia la podeis poner sin problema
![vbox2](../img/5/virtualbox2.png)

Finalmente vamos a asignarle 10Gb a la maquina. Es MUY importante que si quereis subir esta maquina a HackTheBox no pase칤s de los 10Gb, de lo contrario no os aceptar치n la maquina, pero si necesitais pasaros de ese limite por cualquier cosa, debeis contactar con el staff de hackthebox.
![vbox4](../img/5/virtualbox3.png)

Ya con todo configurado, arrancamos la maquina virtual
![machine1](../img/5/machine1.png)

Despues de unos segundos, se habra cargado el instalador de ubuntu server. Para podernos mover por el instalador hacemos uso de las flechas del teclado y de la tecla enter. Ahora debemos seleccionar el idioma ingles, ya que es el lenguaje universal y las maquinas deben tener este idioma
![ins1](../img/5/ins1.png)

Lo mismo hacemos con el teclado
![ins2](../img/5/ins2.png)

Aqu칤 dejaremos marcada la opci칩n por defecto que es la de ubuntu Server normal
![ins3](../img/5/ins3.png)

En al configuraci칩n de la red dejaremos como viene por defecto
![ins4](../img/5/ins4.png)

El campo de Proxy address lo dejaremos vacio
![ins5](../img/5/ins5.png)

Al detectarme que estoy en espa침a me ha asignado los mirrors de espa침a, en caso de que no os lo detecte pode칤s indicarle vosotros mismos el mirror que quera칤s tener, os dejo la lista de mirrors para todos los paises
-> https://launchpad.net/ubuntu/+archivemirrors
![ins6](../img/5/ins6.png)

Ahora tenemos que elegir el disco donde se va a instalar ubuntu server, por defecto ya viene marcado el disco que hemos creado antes de vbox, as칤 que usamos las flechas del teclado para ir hacia el boton de donde y le damos enter
![ins7](../img/5/ins7.png)

Nos dara un resumen de lo que hemos configurado y simplemete tendremos que darle enter.
![ins8](../img/5/ins8.png)

Ahora toca configurar un usuario, en mi caso para mi maquina tengo pensado que haya 2 usuarios `alherrero` y `root`. Luego mas tarde podemos cambiar y agregar nuevos usuarios, asi que no os comais mucho la cabeza con esto. Tambien nos pedira un `hostname`, el cual pondremos el nombre de nuestra maquina, no os precupeis si no teneis claro el nombre todavia, ya que luego lo podreis cambiar mas adelante
![ins9](../img/5/ins9.png)

Nos preguntara que si queremos activar ubuntu pro, por defecto viene marcado que no, pero si no, marcar `Skip for now`
![ins10](../img/5/ins10.png)

Despues nos pedira si queremos instalar en servicio OpenSSH, os recomiendo encarezidamente que lo instaleis, ya que nos permitira acceder a la maquina desde nuestra maquina, y asi poder administrar la maquina de forma mas comoda
![ins11](../img/5/ins11.png)

Ahora nos pedira si queremos instalar algun snap, no marqueis ninguno, esto no nos hara falta para crear nuestra maquina
![ins12](../img/5/ins12.png)

Fianalmente se empezara a instalar el sistema, debemos esperar unos pocos minutos
![ins13](../img/5/ins13.png)

Una vez termine le damos a `Reboot now`
![ins14](../img/5/ins14.png)

Nos saldra este error, es normal, le damos enter y la maquina se reiniciara
![ins15](../img/5/ins15.png)

Y ubuntu server instalado 游꿀
![insF](../img/5/insF.png)

### Conectarse a la maquina mediante SSH
Como ya dije antes, para una mejor experiencia configurando la maquina, podeis usar vuestra maquina anfitri칩n o una vm con un entorno mas comodo. Para conectarnos es necesario que hayamos instalado el servicio SSH y tener en la configuracion de la maquina virtual la red puesta en adaptador puente y permitir todo.
![vbox4](../img/5/virtualbox4.png)

Ahora nos podemos conectar con el siguiente comando (Windows/Linux)
```bash
ssh usuario@IPvuestraMAQUINAvulnerable
```

Si no sabies la IP podeis loguearos en la terminal de ubuntu server y hacer uso del comando `ip a`

## Configuraci칩n
Aqu칤 os donde entra la parte mas complicada de esta gu칤a, ya que hay muchos puertos, configuraciones, etc. 

Para ello he creado un `archive` estructurado donde hablo de cada puerto en un documento, puedes encontrar el archive aqu칤:

**-> Link al archive:** `link`

Espero que os guste la gu칤a, si teneis alguna duda o problema no dudeis en contactarme!
**-> Discord ID:** `1060259480304091276`

